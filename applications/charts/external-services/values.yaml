---
internalIngressAnnotations: &internal_ingress_annotations
  cert-manager.io/cluster-issuer: cluster-issuer-internal-muehlbachler-io
  external-dns.alpha.kubernetes.io/provider: internal
  traefik.ingress.kubernetes.io/router.tls: "true"

publicIngressAnnotations: &public_ingress_annotations
  cert-manager.io/cluster-issuer: cluster-issuer-home-muehlbachler-io
  external-dns.alpha.kubernetes.io/provider: public
  external-dns.alpha.kubernetes.io/target: 144.208.195.224,2a01:aea0:dd3:25a:1000:3:3:1
  traefik.ingress.kubernetes.io/router.tls: "true"

services:
  # network
  router-001:
    ip: 10.0.0.1
    port: 443
    scheme: https
    domain: router-001.network.dev.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  switch-001:
    ip: 10.0.10.1
    port: 80
    scheme: http
    domain: switch-001.network.dev.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  switch-002:
    ip: 10.0.10.11
    port: 443
    scheme: https
    domain: switch-002.network.dev.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  omada-controller:
    ip: 10.0.21.1
    port: 443
    scheme: https
    domain: omada.network.dev.home.muehlbachler.io
    ingress:
      annotations: *public_ingress_annotations
  # PVE
  pve:
    ip: 10.0.50.10
    port: 8006
    scheme: https
    domain: pve.dev.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  pbs:
    ip: 10.0.51.1
    port: 8007
    scheme: https
    domain: backup.pve.dev.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  # applications
  fileshare:
    ip: 10.0.55.1
    port: 443
    scheme: https
    domain: fileshare.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
  influxdb:
    ip: 10.0.55.1
    port: 8086
    scheme: http
    domain: influxdb.internal.muehlbachler.io
    ingress:
      annotations: *internal_ingress_annotations
